(()=>{"use strict";class t{constructor(t,e){this.referrer="",this.direct=!0,this.siteId=t,this.url=null!=e?e:"https://inuminate.com",this.setReferrer()}setReferrer(){this.referrer=document.referrer,this.direct=""===this.referrer}track(){return this.setReferrer(),new Promise(((t,e)=>{fetch(this.endpoint("api/hit"),{method:"POST",body:JSON.stringify({s:this.siteId,l:window.location.href,p:window.location.protocol,h:this.hostname(),r:this.referrer,d:this.direct}),headers:{"Content-Type":"application/json"}}).then((e=>{this.direct&&(this.direct=!1,this.referrer=window.location.href),t(e)})).catch((t=>{console.error("Unable to track hit"),console.log(t),e(t)}))}))}endpoint(t){let e=this.url;"/"!==e[e.length-1]&&(e+="/");let r=t;return r&&"/"===r[0]&&(r=r.substring(1)),e+r}hostname(){return window.location.hostname}}!function(){var e;const r=Array.from(document.getElementsByTagName("script")).filter((t=>!!t.dataset.inuminateSite))[0];if(!r)return;const i=r.dataset.inuminateSite,n=null!==(e=r.dataset.inuminateUrl)&&void 0!==e?e:null;new t(i,n).track()}()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW51bWluYXRlLmpzIiwibWFwcGluZ3MiOiJtQkFBZSxNQUFNQSxFQU9qQkMsWUFBYUMsRUFBZ0JDLEdBSDdCLEtBQUFDLFNBQW1CLEdBQ25CLEtBQUFDLFFBQWtCLEVBR2RDLEtBQUtKLE9BQVNBLEVBQ2RJLEtBQUtILElBQU1BLE1BQUFBLEVBQUFBLEVBQU8sd0JBRWxCRyxLQUFLQyxjQUdUQSxjQUNJRCxLQUFLRixTQUFXSSxTQUFTSixTQUN6QkUsS0FBS0QsT0FBMkIsS0FBbEJDLEtBQUtGLFNBR3ZCSyxRQUlJLE9BRkFILEtBQUtDLGNBRUUsSUFBSUcsU0FBUSxDQUFDQyxFQUFTQyxLQUV6QkMsTUFBTVAsS0FBS1EsU0FBUyxXQUFZLENBQzVCQyxPQUFRLE9BQ1JDLEtBQU1DLEtBQUtDLFVBQVUsQ0FDakJDLEVBQUdiLEtBQUtKLE9BQ1JrQixFQUFHQyxPQUFPQyxTQUFTQyxLQUNuQkMsRUFBR0gsT0FBT0MsU0FBU0csU0FDbkJDLEVBQUdwQixLQUFLcUIsV0FDUkMsRUFBR3RCLEtBQUtGLFNBQ1J5QixFQUFHdkIsS0FBS0QsU0FFWnlCLFFBQVMsQ0FDTCxlQUFnQixzQkFFckJDLE1BQUtDLElBRUExQixLQUFLRCxTQUNMQyxLQUFLRCxRQUFTLEVBQ2RDLEtBQUtGLFNBQVdpQixPQUFPQyxTQUFTQyxNQUdwQ1osRUFBUXFCLE1BRVRDLE9BQU1DLElBRUxDLFFBQVFDLE1BQU0sdUJBQ2RELFFBQVFFLElBQUlILEdBRVp0QixFQUFPc0IsU0FPbkJwQixTQUFVd0IsR0FFTixJQUFJbkMsRUFBTUcsS0FBS0gsSUFDWSxNQUF2QkEsRUFBSUEsRUFBSW9DLE9BQVEsS0FDaEJwQyxHQUFPLEtBR1gsSUFBSXFDLEVBQUtGLEVBS1QsT0FKTUUsR0FBZ0IsTUFBVkEsRUFBRyxLQUNYQSxFQUFLQSxFQUFHQyxVQUFVLElBR2Z0QyxFQUFNcUMsRUFHakJiLFdBQ0ksT0FBT04sT0FBT0MsU0FBU0ssV0N6RS9CLFcsTUFDSSxNQUFNZSxFQUFTQyxNQUFNQyxLQUFLcEMsU0FBU3FDLHFCQUFxQixXQUFXQyxRQUFPSixLQUFZQSxFQUFPSyxRQUFRQyxnQkFBZSxHQUVwSCxJQUFLTixFQUNELE9BR0osTUFBTU8sRUFBT1AsRUFBT0ssUUFBUUMsY0FDdEI3QyxFQUFpQyxRQUEzQixFQUFBdUMsRUFBT0ssUUFBUUcsb0JBQVksUUFBSSxLQUV6QixJQUFJbEQsRUFBVWlELEVBQU05QyxHQUM1Qk0sUUFJZDBDLEkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AdGhlcHVibGljZ29vZC9pbnVtaW5hdGUvLi9zcmMvSW51bWluYXRlLnRzIiwid2VicGFjazovL0B0aGVwdWJsaWNnb29kL2ludW1pbmF0ZS8uL3NyYy90cmFjay50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBJbnVtaW5hdGUge1xuXG4gICAgc2l0ZUlkOiBzdHJpbmc7XG4gICAgdXJsOiBzdHJpbmc7XG4gICAgcmVmZXJyZXI6IHN0cmluZyA9ICcnO1xuICAgIGRpcmVjdDogYm9vbGVhbiA9IHRydWU7XG5cbiAgICBjb25zdHJ1Y3RvciAoc2l0ZUlkOiBzdHJpbmcsIHVybD86IHN0cmluZ3xudWxsKSB7XG4gICAgICAgIHRoaXMuc2l0ZUlkID0gc2l0ZUlkO1xuICAgICAgICB0aGlzLnVybCA9IHVybCA/PyAnaHR0cHM6Ly9pbnVtaW5hdGUuY29tJztcblxuICAgICAgICB0aGlzLnNldFJlZmVycmVyKCk7XG4gICAgfVxuXG4gICAgc2V0UmVmZXJyZXIgKCkge1xuICAgICAgICB0aGlzLnJlZmVycmVyID0gZG9jdW1lbnQucmVmZXJyZXI7XG4gICAgICAgIHRoaXMuZGlyZWN0ID0gdGhpcy5yZWZlcnJlciA9PT0gJyc7XG4gICAgfVxuXG4gICAgdHJhY2sgKCk6IFByb21pc2U8b2JqZWN0PiB7XG5cbiAgICAgICAgdGhpcy5zZXRSZWZlcnJlcigpO1xuXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cbiAgICAgICAgICAgIGZldGNoKHRoaXMuZW5kcG9pbnQoJ2FwaS9oaXQnKSwge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgczogdGhpcy5zaXRlSWQsXG4gICAgICAgICAgICAgICAgICAgIGw6IHdpbmRvdy5sb2NhdGlvbi5ocmVmLFxuICAgICAgICAgICAgICAgICAgICBwOiB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wsXG4gICAgICAgICAgICAgICAgICAgIGg6IHRoaXMuaG9zdG5hbWUoKSxcbiAgICAgICAgICAgICAgICAgICAgcjogdGhpcy5yZWZlcnJlcixcbiAgICAgICAgICAgICAgICAgICAgZDogdGhpcy5kaXJlY3QsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4ge1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGlyZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlyZWN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVmZXJyZXIgPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlKTtcblxuICAgICAgICAgICAgfSkuY2F0Y2gocmVqZWN0ZWQgPT4ge1xuXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignVW5hYmxlIHRvIHRyYWNrIGhpdCcpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlamVjdGVkKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICByZWplY3QocmVqZWN0ZWQpO1xuXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGVuZHBvaW50ICh1cmk6IHN0cmluZ3xudWxsKTogc3RyaW5nIHtcblxuICAgICAgICBsZXQgdXJsID0gdGhpcy51cmw7XG4gICAgICAgIGlmICh1cmxbdXJsLmxlbmd0aCAtMV0gIT09ICcvJykge1xuICAgICAgICAgICAgdXJsICs9ICcvJztcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBlcCA9IHVyaTtcbiAgICAgICAgaWYgKCEhZXAgJiYgZXBbMF0gPT09ICcvJykge1xuICAgICAgICAgICAgZXAgPSBlcC5zdWJzdHJpbmcoMSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdXJsICsgZXA7ICAgICAgIFxuICAgIH1cblxuICAgIGhvc3RuYW1lICgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lO1xuICAgIH1cbn0iLCJpbXBvcnQgSW51bWluYXRlIGZyb20gJy4vSW51bWluYXRlJztcblxuZnVuY3Rpb24gaW5pdEludW1pbmF0ZSgpIHtcbiAgICBjb25zdCBzY3JpcHQgPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKSkuZmlsdGVyKHNjcmlwdCA9PiAhIXNjcmlwdC5kYXRhc2V0LmludW1pbmF0ZVNpdGUpWzBdO1xuXG4gICAgaWYgKCFzY3JpcHQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHNpdGUgPSBzY3JpcHQuZGF0YXNldC5pbnVtaW5hdGVTaXRlITtcbiAgICBjb25zdCB1cmwgPSBzY3JpcHQuZGF0YXNldC5pbnVtaW5hdGVVcmwgPz8gbnVsbDtcblxuICAgIGNvbnN0IGludW1pbmF0ZSA9IG5ldyBJbnVtaW5hdGUoc2l0ZSwgdXJsKTtcbiAgICBpbnVtaW5hdGUudHJhY2soKTtcblxufVxuXG5pbml0SW51bWluYXRlKCk7XG4iXSwibmFtZXMiOlsiSW51bWluYXRlIiwiY29uc3RydWN0b3IiLCJzaXRlSWQiLCJ1cmwiLCJyZWZlcnJlciIsImRpcmVjdCIsInRoaXMiLCJzZXRSZWZlcnJlciIsImRvY3VtZW50IiwidHJhY2siLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImZldGNoIiwiZW5kcG9pbnQiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInMiLCJsIiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwicCIsInByb3RvY29sIiwiaCIsImhvc3RuYW1lIiwiciIsImQiLCJoZWFkZXJzIiwidGhlbiIsInJlc3BvbnNlIiwiY2F0Y2giLCJyZWplY3RlZCIsImNvbnNvbGUiLCJlcnJvciIsImxvZyIsInVyaSIsImxlbmd0aCIsImVwIiwic3Vic3RyaW5nIiwic2NyaXB0IiwiQXJyYXkiLCJmcm9tIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJmaWx0ZXIiLCJkYXRhc2V0IiwiaW51bWluYXRlU2l0ZSIsInNpdGUiLCJpbnVtaW5hdGVVcmwiLCJpbml0SW51bWluYXRlIl0sInNvdXJjZVJvb3QiOiIifQ==